use Bend/Fun/Book as Book
use Bend/Fun/FnDef as FnDef

Book/to-string : Book -> String
| #Book{defs ctrs adts} =
  let defs = (BinMap/values _ defs)
  let defs = (List/sort _ cmp defs)
  (String/join "\n\n" (List/map _ _ FnDef/to-string defs))

cmp : FnDef -> FnDef -> Bool
| #FnDef{a _ _ _ _} #FnDef{b _ _ _ _} = (String/lte a b)
